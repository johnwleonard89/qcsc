---
import { Container } from '@components/odyssey-theme';
import Layout from '../layouts/Page.astro';
import QuoteRequestForm from '../components/forms/QuoteRequestForm.astro';
import { servicesConfig } from '../data/servicesData.js';

export interface Props {
  cityName: string;
  state: string;
  county: string;
  seo: {
    title: string;
    description: string;
    keywords: string;
  };
  hero: {
    tagline: string;
    headline: string;
    subheadline: string;
  };
  serviceArea: {
    neighborhoods: string[];
    landmarks?: string[];
    description: string;
  };
}

const { cityName, state, county, seo, hero, serviceArea } = Astro.props;

// Create URL-friendly city slug for linking to sub-service pages
const citySlug = cityName.toLowerCase().replace(/\s+/g, '-');
---

<Layout {seo}>
	<!-- Hero Section -->
	<section class="hero-section">
		<Container>
			<div class="hero-content-about">
				<div class="hero-text-about">
					<p class="hero-tagline">{hero.tagline}</p>
					<h1 class="hero-headline">{hero.headline}</h1>
					<p class="hero-subheadline">
						{hero.subheadline}
					</p>
					<div class="hero-ctas">
						<a href="/company/contact#quote-form" class="btn btn-primary btn-large">Get Your Free Estimate</a>
						<a href="tel:+15132965525" class="btn btn-outline btn-large">(513) 296-5525</a>
					</div>
				</div>
			</div>
		</Container>
	</section>

	<!-- Service Categories Overview -->
	<Container>
		<section class="services-overview">
			{Object.entries(servicesConfig).map(([categoryKey, category]) => (
				<div class="service-category">
					<div class="category-header">
						<h2>{category.title} Services in {cityName}, {state}</h2>
						<p>{category.description} Serving {cityName} with military precision and local expertise.</p>
					</div>
					
					<div class="services-grid">
						{category.services.map((service) => (
							<div class="service-card">
								<div class="service-image">
									<img src={service.image} alt={`${service.title} in ${cityName}, ${state} - ${service.imageAlt}`} loading="lazy" />
								</div>
								<div class="service-content">
									<h3>{service.title} in {cityName}</h3>
									<p>{service.description}</p>
									<ul class="service-benefits">
										{service.features.map((feature) => (
											<li>{feature}</li>
										))}
									</ul>
									<div class="service-applications">
										<strong>Popular in {cityName} for:</strong> {serviceArea.neighborhoods.slice(0, 3).join(', ')} and surrounding neighborhoods
									</div>
									<div class="service-actions">
										<a href={`/services/${citySlug}-${service.link.split('/').pop()}`} class="service-link">Learn More →</a>
										<a href="/company/contact#quote-form" class="btn btn-outline">Get Quote</a>
									</div>
								</div>
							</div>
						))}
					</div>
				</div>
			))}
		</section>
	</Container>

	<!-- Local Service Area -->
	<section class="local-area-section">
		<Container>
			<h2>Serving All of {cityName}, {state}</h2>
			<p class="area-description">{serviceArea.description}</p>
			
			<div class="areas-served">
				<h3>Neighborhoods We Serve in {cityName}:</h3>
				<div class="neighborhoods-grid">
					{serviceArea.neighborhoods.map((neighborhood) => (
						<div class="neighborhood-item">{neighborhood}</div>
					))}
				</div>

				{serviceArea.landmarks && serviceArea.landmarks.length > 0 && (
					<div class="landmarks-section">
						<h3>Serving Areas Near:</h3>
						<div class="landmarks-grid">
							{serviceArea.landmarks.map((landmark) => (
								<div class="landmark-item">{landmark}</div>
							))}
						</div>
					</div>
				)}
			</div>
		</Container>
	</section>

	<!-- Why Choose Local Section -->
	<section class="why-choose-local-section">
		<Container>
			<h2>Why Choose Queen City Surface Coatings in {cityName}</h2>
			<div class="advantages-grid">
				<div class="advantage-card">
					<div class="advantage-icon"></div>
					<h3>Local {cityName} Expertise</h3>
					<p>We understand the unique needs of {cityName} properties and local building requirements. Our team knows the area and provides personalized service to your community.</p>
				</div>

				<div class="advantage-card">
					<div class="advantage-icon"></div>
					<h3>Fast Response Times</h3>
					<p>Based in the {county} County area, we provide quick response times throughout {cityName} with same-day consultations and flexible scheduling.</p>
				</div>

				<div class="advantage-card">
					<div class="advantage-icon"></div>
					<h3>Military Precision Installation</h3>
					<p>Every project executed with Marine Corps discipline and attention to detail. No shortcuts, no compromises - just superior results for {cityName} residents.</p>
				</div>

				<div class="advantage-card">
					<div class="advantage-icon"></div>
					<h3>Licensed & Insured</h3>
					<p>Fully licensed contractor serving {cityName} with comprehensive liability insurance and workers' compensation coverage protecting you and your property.</p>
				</div>
			</div>
		</Container>
	</section>

	<!-- Contact Section -->
	<section class="contact-section">
		<Container>
			<div class="contact-content">
				<div class="contact-info">
					<h2>Ready to Transform Your {cityName} Property?</h2>
					<p>Get a free estimate for professional concrete coating services in {cityName}, {state}. We're here to help transform your space with military precision and superior results.</p>
					
					<div class="contact-methods">
						<div class="contact-button-wrapper">
							<a href="tel:+15132965525" class="contact-button contact-button-phone">
								<div class="contact-icon"></div>
								<div class="contact-details">
									<h4>Call Now</h4>
									<span class="contact-info">(513) 296-5525</span>
									<span class="contact-availability">Serving {cityName}</span>
								</div>
							</a>
						</div>
						
						<div class="contact-button-wrapper">
							<a href="mailto:john@queencitysurfacecoatings.com" class="contact-button contact-button-email">
								<div class="contact-icon"></div>
								<div class="contact-details">
									<h4>Email Us</h4>
									<span class="contact-info">john@queencitysurfacecoatings.com</span>
									<span class="contact-availability">24 hour response</span>
								</div>
							</a>
						</div>
					</div>
					
					<div class="business-hours">
						<h4>Business Hours</h4>
						<div class="hours-list">
							<div class="hours-item">
								<span>Monday - Friday:</span>
								<span class="hours-time">7:00 AM - 6:00 PM</span>
							</div>
							<div class="hours-item">
								<span>Saturday:</span>
								<span class="hours-time">8:00 AM - 4:00 PM</span>
							</div>
							<div class="hours-item">
								<span>Sunday:</span>
								<span class="hours-time">By Appointment</span>
							</div>
						</div>
					</div>
				</div>
				
				<div class="contact-form">
					<QuoteRequestForm />
				</div>
			</div>
		</Container>
	</section>
</Layout>

<style>
/* Hero Section - matching services page */
.hero-section {
	background: linear-gradient(135deg, var(--theme-surface-2) 0%, var(--theme-navy-dark) 100%);
	color: var(--theme-on-surface-2);
	padding: 4rem 0;
	margin-bottom: 3rem;
	position: relative;
	overflow: hidden;
}

.hero-section::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background-image: radial-gradient(circle at 20% 80%, rgba(255, 193, 7, 0.1) 0%, transparent 50%),
			  radial-gradient(circle at 80% 20%, rgba(255, 193, 7, 0.05) 0%, transparent 50%);
	pointer-events: none;
}

.hero-content-about {
	display: flex;
	justify-content: center;
	align-items: center;
	min-height: 400px;
	position: relative;
	z-index: 1;
}

.hero-text-about {
	text-align: center;
	max-width: 800px;
}

.hero-tagline {
	font-family: var(--theme-font-family-headings);
	font-size: 1.375rem;
	font-weight: var(--font-weight-medium);
	color: #FFC107;
	margin-bottom: 1.5rem;
	text-transform: uppercase;
	letter-spacing: 1px;
	opacity: 0.95;
}

.hero-headline {
	font-family: var(--theme-font-family-headings);
	font-size: var(--font-size-h1);
	font-weight: var(--font-weight-bold);
	margin-bottom: 1rem;
	line-height: var(--line-height-tight);
	color: #FFC107;
	text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.hero-subheadline {
	font-size: 1.25rem;
	margin-bottom: 2.5rem;
	opacity: 0.95;
	line-height: var(--line-height-relaxed);
	color: rgba(255, 255, 255, 0.9);
}

.hero-ctas {
	display: flex;
	gap: 1.5rem;
	justify-content: center;
	flex-wrap: wrap;
}

.hero-section .btn-primary {
	background: #FFC107 !important;
	border-color: #FFC107 !important;
	color: #002F4B !important;
}

.hero-section .btn-primary:hover {
	background: #E6AC00 !important;
	border-color: #E6AC00 !important;
	color: #002F4B !important;
}

.hero-section .btn-outline {
	background: transparent !important;
	border-color: #FFC107 !important;
	color: #FFC107 !important;
}

.hero-section .btn-outline:hover {
	background: #FFC107 !important;
	border-color: #FFC107 !important;
	color: #002F4B !important;
}

/* Services Overview - matching services page */
.services-overview {
	margin-bottom: 4rem;
}

.service-category {
	margin-bottom: 4rem;
}

.category-header {
	text-align: center;
	margin-bottom: 3rem;
}

.category-header h2 {
	color: var(--theme-primary);
	font-size: 2.5rem;
	margin-bottom: 1rem;
	text-align: center;
}

.category-header p {
	font-size: 1.1rem;
	color: #333333;
	margin-bottom: 1rem;
	line-height: 1.6;
	max-width: 700px;
	margin: 0 auto 1rem auto;
}

.services-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
	gap: 2rem;
}

.service-card {
	background: var(--theme-surface-1);
	border-radius: var(--theme-shape-radius);
	overflow: hidden;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
	transition: transform var(--theme-transition);
}

.service-card:hover {
	transform: translateY(-5px);
}

.service-image {
	height: 200px;
	overflow: hidden;
}

.service-image img {
	width: 100%;
	height: 100%;
	object-fit: cover;
}

.service-content {
	padding: 2rem;
}

.service-content h3 {
	color: var(--theme-primary);
	margin-bottom: 1rem;
	font-size: 1.5rem;
	text-align: center;
}

.service-content > p {
	font-size: 1.1rem;
	color: #333333;
	margin-bottom: 2rem;
	line-height: 1.6;
}

.service-benefits {
	list-style: none;
	padding: 0;
	margin-bottom: 1.5rem;
}

.service-benefits li {
	padding: 0.25rem 0;
	position: relative;
	padding-left: 1.5rem;
	font-size: 0.95rem;
}

.service-benefits li::before {
	content: "✓";
	position: absolute;
	left: 0;
	color: var(--theme-primary);
	font-weight: bold;
}

.service-applications {
	background: rgba(255, 192, 61, 0.1);
	padding: 1rem;
	border-radius: 4px;
	margin-bottom: 1.5rem;
	border-left: 3px solid var(--theme-primary);
	font-size: 0.9rem;
}

.service-applications strong {
	color: var(--theme-primary);
}

.service-actions {
	display: flex;
	justify-content: space-between;
	align-items: center;
	gap: 1rem;
}

.service-link {
	color: var(--theme-primary);
	text-decoration: none;
	font-weight: 600;
	font-size: 0.9rem;
}

.service-link:hover {
	text-decoration: underline;
}

/* Local Area Section */
.local-area-section {
	background: var(--theme-surface-1);
	padding: 4rem 0;
	margin: 4rem 0;
}

.local-area-section h2 {
	color: var(--theme-primary);
	font-size: 2.5rem;
	text-align: center;
	margin-bottom: 1rem;
}

.area-description {
	text-align: center;
	font-size: 1.1rem;
	color: #333333;
	margin-bottom: 3rem;
	line-height: 1.6;
	max-width: 800px;
	margin: 0 auto 3rem auto;
}

.areas-served h3,
.landmarks-section h3 {
	color: var(--theme-primary);
	font-size: 1.5rem;
	text-align: center;
	margin-bottom: 2rem;
}

.neighborhoods-grid,
.landmarks-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
	gap: 1rem;
	max-width: 1000px;
	margin: 0 auto 3rem auto;
}

.neighborhood-item,
.landmark-item {
	background: var(--theme-bg);
	padding: 1rem;
	border-radius: var(--theme-card-radius);
	text-align: center;
	font-weight: 500;
	border: 1px solid rgba(0, 0, 0, 0.1);
	transition: transform var(--theme-transition);
}

.neighborhood-item:hover,
.landmark-item:hover {
	transform: translateY(-2px);
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.landmarks-section {
	margin-top: 3rem;
}

/* Why Choose Local Section */
.why-choose-local-section {
	margin: 4rem 0;
}

.why-choose-local-section h2 {
	color: var(--theme-primary);
	font-size: 2.5rem;
	text-align: center;
	margin-bottom: 3rem;
}

.advantages-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
	gap: 2rem;
}

.advantage-card {
	text-align: center;
	padding: 2rem;
	background: var(--theme-surface-1);
	border-radius: var(--theme-shape-radius);
	border: 1px solid rgba(0, 0, 0, 0.05);
}

.advantage-icon {
	font-size: 2.5rem;
	margin-bottom: 1rem;
}

.advantage-card h3 {
	color: var(--theme-primary);
	margin-bottom: 1rem;
	font-size: 1.25rem;
	text-align: center;
}

.advantage-card p {
	font-size: 1.1rem;
	color: #333333;
	margin-bottom: 2rem;
	line-height: 1.6;
}

/* Contact Section - matching other templates */
.contact-section {
	background: var(--theme-surface-1);
	padding: 4rem 0;
}

.contact-content {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 3rem;
	align-items: start;
}

.contact-info h2 {
	font-size: 2.5rem;
	font-weight: var(--font-weight-bold);
	color: var(--theme-text-primary);
	margin-bottom: 1rem;
	text-align: center;
}

.contact-info > p {
	font-size: 1.125rem;
	line-height: var(--line-height-relaxed);
	margin-bottom: 2rem;
	color: var(--theme-text-secondary);
}

.contact-methods {
	display: flex;
	flex-direction: row;
	gap: 1rem;
	margin-bottom: 2rem;
	justify-content: center;
}

.contact-button-wrapper {
	width: 280px;
	height: 120px;
}

.contact-button {
	display: flex;
	flex-direction: column;
	align-items: center;
	text-align: center;
	gap: 0.5rem;
	padding: 0.75rem;
	border-radius: var(--theme-card-radius);
	border: 2px solid transparent;
	transition: var(--theme-transition);
	text-decoration: none;
	width: 280px;
	height: 120px;
	cursor: pointer;
	justify-content: center;
	box-sizing: border-box;
}

.contact-button:hover {
	transform: translateY(-2px);
	box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

.contact-button-phone {
	background: #FFC107;
	color: #002F4B;
}

.contact-button-phone:hover {
	background: #E6AC00;
	color: #002F4B;
}

.contact-button-email {
	background: #002F4B;
	color: white;
}

.contact-button-email:hover {
	background: #001f36;
	color: white;
}

.contact-button-email .contact-info {
	color: #FFC107;
	font-size: 0.85rem;
}

.contact-button-email h4,
.contact-button-email .contact-availability {
	color: white;
}

.contact-icon {
	font-size: 2rem;
}

.contact-details {
	display: flex;
	flex-direction: column;
	align-items: center;
	text-align: center;
	gap: 0.25rem;
}

.contact-details h4 {
	font-weight: var(--font-weight-semibold);
	margin: 0;
	font-size: 0.9rem;
}

.contact-info {
	font-size: 0.85rem;
	font-weight: var(--font-weight-semibold);
	display: block;
	margin: 0;
}

.contact-availability {
	font-size: 0.75rem;
	opacity: 0.8;
	margin: 0;
}

.business-hours {
	background: var(--theme-bg);
	padding: 1.5rem;
	border-radius: var(--theme-card-radius);
}

.business-hours h4 {
	font-weight: var(--font-weight-semibold);
	color: var(--theme-text-primary);
	margin-bottom: 1rem;
	font-size: 1.125rem;
}

.hours-list {
	display: flex;
	flex-direction: column;
	gap: 0.75rem;
}

.hours-item {
	display: flex;
	justify-content: space-between;
	padding: 0.5rem 0;
	border-bottom: 1px solid var(--theme-border-light);
	font-size: 1rem;
}

.hours-item:last-child {
	border-bottom: none;
}

.hours-time {
	font-weight: var(--font-weight-medium);
}

/* Responsive Design */
@media (max-width: 1024px) {
	.services-grid {
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
	}
	
	.advantages-grid {
		grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
	}

	.contact-content {
		grid-template-columns: 1fr;
		gap: 2rem;
	}
	
	.contact-methods {
		flex-direction: column;
	}
}

@media (max-width: 768px) {
	.hero-section {
		padding: 2rem 0;
	}
	
	.hero-headline {
		font-size: 2rem;
	}
	
	.category-header h2, .local-area-section h2, .why-choose-local-section h2 {
		font-size: 2rem;
	}
	
	.services-grid {
		grid-template-columns: 1fr;
	}
	
	.advantages-grid {
		grid-template-columns: 1fr;
	}
	
	.hero-ctas {
		flex-direction: column;
		align-items: center;
	}
	
	.service-actions {
		flex-direction: column;
		align-items: stretch;
	}

	.neighborhoods-grid,
	.landmarks-grid {
		grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
	}

	.contact-methods {
		flex-direction: column;
	}
}

@media (max-width: 480px) {
	.hero-headline {
		font-size: 1.75rem;
	}
	
	.service-content {
		padding: 1.5rem;
	}
	
	.advantage-card {
		padding: 1.5rem;
	}

	.neighborhoods-grid,
	.landmarks-grid {
		grid-template-columns: 1fr;
	}
}
</style>